---
title: "Tenka1 Programmer Contest 2019 参加記録"
date: 2019-04-21T09:54:51+09:00
archives: "2019"
tags: [python, 競技プログラミング, AtCoder]
---

昨日（2019/04/20）AtCoderで開催された、Tenka1 Programmer Contest 2019に参加しました。
<!--more-->

```
2019/4/20 Tenka1 Programmer Contest 2019
Rank: 833(rated)
Perf: 1283
Rating: 1214(+8, highest!)
```

![レート](/blog/img/AtCoder20190420.png

結果はCDEF4問中、CのみACでした。Dも解きたかったのですが力及ばず。。。

---
### C - Stones
https://atcoder.jp/contests/tenka1-2019/tasks/tenka1_2019_c

問題文はちゃんと読みましょう。

はじめに、白→黒の変換のみ許されていると思い、**WA**。
左から順に見ていき、はじめての黒以降、すべての白を黒に変更する戦略です。

次に、黒→白の操作が可能ということに気づいたものの、あまり深く考えず、またしても**WA**。
さっきの戦略を、逆方向にも実行。
変更数の少ない方を採用。

2WAになって、やっと冷静に。
三度目の正直で**AC**しました。
まじめに考えると、すぐに分かりました。
解放は解説と同じです。

---
### D - Three Colors
https://atcoder.jp/contests/tenka1-2019/tasks/tenka1_2019_d

一瞬、bit全探索を考えましたが明らかにTLEになるので却下。

結論、解説の解法に近いところまで行ったのですが、解法に自信が持てず、間に合いませんでした。。

さて、$R≧G≧B$ と仮定、$R$に塗る整数の個数を決定したとき、$G,B$の塗り分けの場合の数は簡単に求められます。

最長辺$R$について、$R<\frac{(R+G+B)}{2}$が、三角形$RGB$の存在の必要十分条件となります。つまり、$R$がこの条件を満たしていれば、$B,G$はどんな塗り方も許されます。

全$N$個の整数のうち$N_R$個の整数を$R$に塗るとすると、残りの整数を$B,G$に塗り分ける方法は$2^{(N-N_R)}$通りとなります。

ですのであとは、$R<\frac{(R+G+B)}{2}$を満たすような$N_R$個の選び方が何通りあるかを求められればよいはずです。これはDPを使えば出せそうです。

<br />

**と、ここまで考えたのですが、間違えていました。**


$R<\frac{(R+G+B)}{2}$を満たしていても、$R≧G$を満たさない$G$の塗り方も存在します。つまり、$R$が最長辺であるという条件付けが、数式上でできていませんでした。

また、$R=G$や$G=B$となる場合が重複して数えられるため、その分あとから引く必要があるのも億劫です。

<br />

**解説の解答では、この問題をうまく解決しています。**

上の方針では、**三角形$RGB$が存在するような塗り分け方**を数えていました。しかし、それは簡単でありませんでした。

解説ではこれを踏まえてか、**（すべての$RGB$塗り方の場合の数）$-$（三角形$RGB$が存在しない塗り方の場合の数）**を計算しています。

三角形$RGB$が存在しない必要十分条件は$R≧\frac{(R+G+B)}{2}$なので、数え上げも簡単です。

ですのであとは、$R≧\frac{(R+G+B)}{2}$を満たすような$N_R$個の選び方が何通りあるかを求められればよいはずです。これはDPを使えば出せそうです。

このDPはナップサック問題のDPと同じような考えで良さそうです。

$i$個から、和が$j$となるよう$R$に塗る整数を選ぶ場合の数$DP[i][j]$は、以下の2つの場合に分けられます。

1. $i$番目の整数を**選ぶ**場合（$DP[i][j]$+=$DP[i-1][j-A_i]$）
1. $i$番目の整数を**選ばない**場合（$DP[i][j]$+=$DP[i-1][j]$）

