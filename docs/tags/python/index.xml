<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>python on へーさんのブログ</title>
    <link>https://hee-san.github.io/blog/tags/python/</link>
    <description>Recent content in python on へーさんのブログ</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 16 Apr 2019 23:10:44 +0900</lastBuildDate>
    
        <atom:link href="https://hee-san.github.io/blog/tags/python/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>元号変換プログラム</title>
      <link>https://hee-san.github.io/blog/2019/%E5%85%83%E5%8F%B7%E5%A4%89%E6%8F%9B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0/</link>
      <pubDate>Tue, 16 Apr 2019 23:10:44 +0900</pubDate>
      
      <guid>https://hee-san.github.io/blog/2019/%E5%85%83%E5%8F%B7%E5%A4%89%E6%8F%9B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0/</guid>
      <description>年の西暦表記・元号表記を相互に変換するようなプログラムを作成します。
テスト書いていますか？ いきなり元号と関係のない話なんですが。
身の回りでテストコードをちゃんと書いている友人がいません。 悲しいです。書きましょう。
僕は、テストには以下のようなメリットがあると思います。
 動作が保証されること サンプルとして、使い方が簡単にわかること  同期の友人は研究室へ入るこの機に、ぜひテストやドキュメントを書く習慣をつけてほしいです。
この記事ではさらに踏み込んで、TDD（テスト駆動開発）を行います。
これは、メインプログラムより先にテストコードを書いちゃう開発手法です。
先に目標の動作を明記するので、開発する上で目標を見失うこともないです。
他にもメリットがたくさんあるんですが、それはまたの機会に書こうと思います。
開発環境 Pythonを使います。（今回の例では）簡潔なコードで済み、テストの用意が簡単だから選びました。
初めのうちは、外部ライブラリ等は利用しない予定です。
テストには、標準ライブラリのdoctestを使います。
2020年は令和2年 何はともあれ、まずはテストを書きます。
はじめに、「西暦を令和に変換できる」という仕様を満たしたいです。 「1年は元年とする」や「昭和・平成にも変換可能にする」等は後回しです。
 ad2jaという関数を作りました。 これを、西暦を整数で受け取り、元号表記をprintする関数にします。
関数の中身は、コメント文とpass文のみです。
pass文とは、「何もしない関数」なので、このad2ja関数も、何もしない関数です。
さて、今回は以下のようなコメント文を書きました。
&amp;quot;&amp;quot;&amp;quot; &amp;gt;&amp;gt;&amp;gt; ad2ja(2020) 令和2年 &amp;quot;&amp;quot;&amp;quot;  これが今回目標とする仕様の、最初のテストケースです。 数値2020を入力引数として受け取ると、令和2年と表示します。
doctestを用いると、上の例のように、doctest.testmod()を実行するだけですべてのテストを実行してくれます。 簡単にテストを実装できるのでオススメです。
出力実行結果を見ると、最後にテスト結果が出力されています。
TestResults(failed=1, attempted=1)  これは実行したテスト（attempted）が1つあり、そのうち1つのテストが失敗（failed）したという表示です。
その上には、失敗したテストの詳細が表示されています。
********************************************************************** File &amp;quot;__main__&amp;quot;, line 3, in __main__.ad2ja Failed example: ad2ja(2020) Expected: 令和2年 Got nothing **********************************************************************  令和2年という出力を期待していたのに、何も出力されなかった（Got nothing）と表示されています。
passしかない関数なので当然の結果でしょう。
このように、先にテストを書くのがTDDです。
それでは、このテストが通るようにプログラムを書いていきましょう。
 passを消し、print(&#39;令和2年&#39;)と追加することでテストが通りました。 faild=0になったので、詳細結果の表示は省かれています。</description>
    </item>
    
  </channel>
</rss>
