<!DOCTYPE html>
<html lang="en-us">

    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>へーさんのブログ  | AGC033 A問題 参加記録</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">

        
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-114441596-3', 'auto');
	
	ga('send', 'pageview');
}
</script>


        <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css" />
        <link rel="stylesheet" href="https://hee-san.github.io/blog/css/blog.css" />

        

        <link rel="apple-touch-icon" sizes="57x57" href=https://hee-san.github.io/blog/img/favicon/apple-icon-57x57.png>
<link rel="apple-touch-icon" sizes="60x60" href=https://hee-san.github.io/blog/img/favicon/apple-icon-60x60.png>
<link rel="apple-touch-icon" sizes="72x72" href=https://hee-san.github.io/blog/img/favicon/apple-icon-72x72.png>
<link rel="apple-touch-icon" sizes="76x76" href=https://hee-san.github.io/blog/img/favicon/apple-icon-76x76.png>
<link rel="apple-touch-icon" sizes="114x114" href=https://hee-san.github.io/blog/img/favicon/apple-icon-114x114.png>
<link rel="apple-touch-icon" sizes="120x120" href=https://hee-san.github.io/blog/img/favicon/apple-icon-120x120.png>
<link rel="apple-touch-icon" sizes="144x144" href=https://hee-san.github.io/blog/img/favicon/apple-icon-144x144.png>
<link rel="apple-touch-icon" sizes="152x152" href=https://hee-san.github.io/blog/img/favicon/apple-icon-152x152.png>
<link rel="apple-touch-icon" sizes="180x180" href=https://hee-san.github.io/blog/img/favicon/apple-icon-180x180.png>
<link rel="icon" type="image/png" sizes="192x192" href=https://hee-san.github.io/blog/img/favicon/android-icon-192x192.png>
<link rel="icon" type="image/png" sizes="32x32" href=https://hee-san.github.io/blog/img/favicon/favicon-32x32.png>
<link rel="icon" type="image/png" sizes="96x96" href=https://hee-san.github.io/blog/img/favicon/favicon-96x96.png>
<link rel="icon" type="image/png" sizes="16x16" href=https://hee-san.github.io/blog/img/favicon/favicon-16x16.png>
<link rel="manifest" href=https://hee-san.github.io/blog/img/favicon/manifest.json>
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

        <meta name="twitter:card" content="summary_large_image" />
</meta>
<meta name="twitter:site" content="">
</meta>
<meta name="twitter:creator" content="">
</meta>
<meta name="twitter:title"
    content="<title>AGC033 A問題 参加記録&nbsp;-&nbsp;へーさんのブログ</title>">
</meta>
<meta name="twitter:url" content="https://hee-san.github.io/blog/2019/agc033_a%E5%95%8F%E9%A1%8C_%E5%8F%82%E5%8A%A0%E8%A8%98%E9%8C%B2/">
</meta>
<meta name="twitter:description"
    content="">
</meta>

<meta name="twitter:image" content="https://hee-san.github.io/blog">
</meta>


        <script defer src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            ignoreClass: "gist"
        },
        "HTML-CSS": {matchFontHeight: false}
    });
</script>
<script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>

        <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>

    </head>

    <body>

        
        <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
            <div class="navbar-brand">
                <a class="navbar-item" href="https://hee-san.github.io/blog">Home</a>
            </div>
        </nav>
        

        
        <section class="hero is-info is-medium">
            <div class="hero-body" style="background-image: url(https://hee-san.github.io/blog/img/bg-blog.jpg);">
                <div class="container has-text-centered">
                    <br>
                    <h1 class="title is-size-1">
                        
                        AGC033 A問題 参加記録
                        
                    </h1>
                    
                </div>
            </div>
        </section>


<div class="container">
    <div class="section">
    

<div class="columns">
    <div class="column is-9">
        <div class="tile is-child box">
            <div class="content">
                <p>昨日（2019/05/04）、AtCoderで開催された<a href="https://atcoder.jp/contests/agc033">AtCoder Grand Contest 033</a>に参加しました。
A問題の復習記事です。</p>

<pre><code>2019/5/4 AtCoder Grand Contest 033
Rank: 565(rated)
Perf: 1705
Rating: 1275(+61, highest!)
</code></pre>

<p><img src="/blog/img/AtCoder20190504.png" alt="レート" /></p>

<p>結果はA~Fの6問中、A(300), B(600)のみACでした。</p>

<p>問題量が多いため、各問題ごと別に記事を書こうと思います。</p>

<ul>
<li><a href="/blog/2019/agc033_b問題_参加記録/">AGC033 B問題</a></li>
<li><a href="/blog/2019/agc033_c問題_参加記録/">AGC033 C問題</a></li>
<li>D問題以降、準備中</li>
</ul>

<hr />

<blockquote>
<h3 id="a-darker-and-darker">A - Darker and Darker</h3>

<h5 id="問題文">問題文</h5>

<p>縦$H$行、横$W$列の白黒に塗られたマス目が与えられます。</p>

<p>マス目の状態は$A_{11}$から$A_{HW}$の$HW$個の文字で表されており、  <br />
上から$i$行目、左から$j$列目にあるマスが黒色のとき、$A_{ij}$は<code>#</code>、  <br />
上から$i$行目、左から$j$列目にあるマスが白色のとき、$A_{ij}$は<code>.</code>となっています。  </p>

<p>すべてのマスが黒色になるまで、以下の操作を繰り返し行います。</p>

<ul>
<li>辺を共有して隣接するマスの中に、黒色のマスが一つ以上存在するような白色のマスすべてが黒色になる。</li>
</ul>

<p>何回の操作を行うことになるか求めてください。</p>

<p>ただし、最初に与えられるマス目には少なくとも1つ黒色のマスが存在します。</p>

<h5 id="制約">制約</h5>

<ul>
<li>$1 ≦ H,W ≦ 1000$</li>
<li>$A_{ij}$は<code>#</code>または<code>.</code>。</li>
<li>与えられるマス目には少なくとも1つ黒色のマスが存在する。</li>
</ul>

<p><cite><a href="https://atcoder.jp/contests/agc033/tasks/agc033_a">A - Darker and Darker</a></cite></p>
</blockquote>

<p>この問題はシミュレーションが簡単そうですが、気をつけないと実行時間制限に引っかかりそうです。</p>

<p>毎操作ごとにすべてのマスをチェックし、色を更新するというのが、シンプルな再現方法です。</p>

<p>この場合、最悪のパターンは、$H=W=1000$、$A_{11}$のみが黒い場合です。
このとき処理のループ数は、$H*W*2000 \simeq 10^9$となり、1秒間では処理しきれません。
（たいてい、ループ数$10^7$までなら1秒で処理可能と言われています。）</p>

<p>少し考えると、毎度の操作でチェックするマスを減らせることがわかります。
具体的には、<strong>前回の操作で新しく黒になったマスの周囲のみ</strong>チェックすればよいです。</p>

<p>こうすることで、すべてのマスに対し、その周囲のチェックが1度ずつ走ることになります。
ですのでチェックの数は高々$4HW$、つまり$O(HW)$に収まります。
これは1秒以内で十分処理できる計算量です。</p>

<pre class="prettyprint lang-cpp linenums">
#include &ltalgorithm>
#include &ltcmath>
#include &ltiostream>
#include &ltqueue>
#include &ltstring>
#include &lttuple>
#include &ltvector>

using namespace std;
typedef long long int ll;
typedef vector&ltint> vi;
typedef vector&ltvi> vvi;
typedef pair&ltint, int> v2;

#define INF (1e9)

int H, W;

int main() {
    cin >> H >> W;

    vvi A(H, vi(W, INF));
    string s;
    queue<v2> q;

    for (int i = 0; i < H; i++) {
        cin >> s;
        for (int j = 0; j < W; j++) {
            if (s[j] == '#') {
                A[i][j] = 0;
                q.push(v2(i, j));
            }
        }
    }

    while (!q.empty()) {
        v2 p = q.front();
        q.pop();
        int xx = p.second;
        int yy = p.first;
        if (xx > 0 && A[yy][xx - 1] == INF) {  // L
            A[yy][xx - 1] = A[yy][xx] + 1;
            q.push(v2(yy, xx - 1));
        }
        if (xx < W - 1 && A[yy][xx + 1] == INF) {  // R
            A[yy][xx + 1] = A[yy][xx] + 1;
            q.push(v2(yy, xx + 1));
        }
        if (yy > 0 && A[yy - 1][xx] == INF) {  // U
            A[yy - 1][xx] = A[yy][xx] + 1;
            q.push(v2(yy - 1, xx));
        }
        if (yy < H - 1 && A[yy + 1][xx] == INF) {  // D
            A[yy + 1][xx] = A[yy][xx] + 1;
            q.push(v2(yy + 1, xx));
        }
    }

    int ans = 0;
    for (int i = 0; i < H; i++) {
        for (int j = 0; j < W; j++) {
            ans = max(ans, A[i][j]);
        }
    }

    cout << ans << endl;
    return 0;
}

</pre>
<style>
    .prettyprint {
        max-height: 355px;
        overflow-x: scroll;
        overflow-y: scroll;
        border: 1px solid #ccc;
    }

    .prettyprint ol>li {
        list-style-type: decimal;
        padding-inline-start: 10px;
    }
</style>
            </div>
        </div>
    </div>
    <div class="column is-3">
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Share Buttons</h1>
        <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button"
            data-show-count="false">Tweet</a>
        <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div>
</div>
<br>
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Tags</h1>
        <div class="tags">
        
            <span class="tag"><a href="https://hee-san.github.io/blog/tags/atcoder">atcoder</a></span>
        
            <span class="tag"><a href="https://hee-san.github.io/blog/tags/matlab">matlab</a></span>
        
            <span class="tag"><a href="https://hee-san.github.io/blog/tags/%E7%AB%B6%E6%8A%80%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0">競技プログラミング</a></span>
        
        </div>          
    </div>
</div><br>
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Recent posts</h1>
        
            <h1><a href="https://hee-san.github.io/blog/2019/agc034_c%E5%95%8F%E9%A1%8C/">AGC034 C問題</a></h1>
            <time class="has-text-grey-light is-size-7">5 June 2019</time>
        
            <h1><a href="https://hee-san.github.io/blog/2019/diverta_2019_programming_contest_%E5%8F%82%E5%8A%A0%E8%A8%98%E9%8C%B23/">Diverta 2019 Programming Contest 参加記録 3</a></h1>
            <time class="has-text-grey-light is-size-7">15 May 2019</time>
        
            <h1><a href="https://hee-san.github.io/blog/2019/diverta_2019_programming_contest_%E5%8F%82%E5%8A%A0%E8%A8%98%E9%8C%B22/">Diverta 2019 Programming Contest 参加記録 2</a></h1>
            <time class="has-text-grey-light is-size-7">13 May 2019</time>
        
            <h1><a href="https://hee-san.github.io/blog/2019/diverta_2019_programming_contest_%E5%8F%82%E5%8A%A0%E8%A8%98%E9%8C%B21/">Diverta 2019 Programming Contest 参加記録 1</a></h1>
            <time class="has-text-grey-light is-size-7">12 May 2019</time>
        
            <h1><a href="https://hee-san.github.io/blog/2019/agc033_c%E5%95%8F%E9%A1%8C_%E5%8F%82%E5%8A%A0%E8%A8%98%E9%8C%B2/">AGC033 C問題 参加記録</a></h1>
            <time class="has-text-grey-light is-size-7">9 May 2019</time>
        
    </div>
</div>
    <br>
                
  



<div class="card">
    <div class="card-content">
        <h1 class="title is-5">Related posts</h1>
      
      
            <h1><a href="https://hee-san.github.io/blog/2019/agc034_c%E5%95%8F%E9%A1%8C/">AGC034 C問題</a></h1>
            <time class="has-text-grey-light is-size-7">5 June 2019</time>
      
            <h1><a href="https://hee-san.github.io/blog/2019/diverta_2019_programming_contest_%E5%8F%82%E5%8A%A0%E8%A8%98%E9%8C%B23/">Diverta 2019 Programming Contest 参加記録 3</a></h1>
            <time class="has-text-grey-light is-size-7">15 May 2019</time>
      
            <h1><a href="https://hee-san.github.io/blog/2019/diverta_2019_programming_contest_%E5%8F%82%E5%8A%A0%E8%A8%98%E9%8C%B22/">Diverta 2019 Programming Contest 参加記録 2</a></h1>
            <time class="has-text-grey-light is-size-7">13 May 2019</time>
      
            <h1><a href="https://hee-san.github.io/blog/2019/diverta_2019_programming_contest_%E5%8F%82%E5%8A%A0%E8%A8%98%E9%8C%B21/">Diverta 2019 Programming Contest 参加記録 1</a></h1>
            <time class="has-text-grey-light is-size-7">12 May 2019</time>
      
            <h1><a href="https://hee-san.github.io/blog/2019/agc033_c%E5%95%8F%E9%A1%8C_%E5%8F%82%E5%8A%A0%E8%A8%98%E9%8C%B2/">AGC033 C問題 参加記録</a></h1>
            <time class="has-text-grey-light is-size-7">9 May 2019</time>
      
            <h1><a href="https://hee-san.github.io/blog/2019/agc033_b%E5%95%8F%E9%A1%8C_%E5%8F%82%E5%8A%A0%E8%A8%98%E9%8C%B2/">AGC033 B問題 参加記録</a></h1>
            <time class="has-text-grey-light is-size-7">6 May 2019</time>
      
            <h1><a href="https://hee-san.github.io/blog/2019/tenka1_programmer_contest_2019_e%E5%95%8F%E9%A1%8C%E8%80%83%E5%AF%9F/">Tenka1 Programmer Contest 2019 E問題考察</a></h1>
            <time class="has-text-grey-light is-size-7">2 May 2019</time>
      
    </div>
</div>

    
<br>
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Archives</h1>
        
        <a href="https://hee-san.github.io/blog/archives/2019/06">2019/06</a> (1)<br>
        
        <a href="https://hee-san.github.io/blog/archives/2019/05">2019/05</a> (7)<br>
        
        <a href="https://hee-san.github.io/blog/archives/2019/04">2019/04</a> (4)<br>
        
    </div>
</div>

    </div>
</div>


    </div>
</div>

<footer class="footer has-background-grey-darker has-text-white">
    <div class="content has-text-centered">
        <p>
            <span class="icon is-large"><a href="https://twitter.com/hee_san_" class="mysocial"><i
                        class="fab fa-twitter fa-3x"></i></a></span>&nbsp;&nbsp;
            
            <span class="icon is-large"><a href="https://github.com/Hee-San" class="mysocial"><i
                        class="fab fa-github fa-3x"></i></a></span>&nbsp;&nbsp;
            <br><br>
            Copyright &copy; へーさんのブログ 2019 - Theme by <a href="https://jeffprod.com"
                class="mysocial">JeffProd.com</a>
            - <a class="mysocial" href="https://hee-san.github.io/blog/about">About</a>
        </p>
    </div>
</footer>

</body>

</html>
